{"version":3,"sources":["webpack:///atum-marketing-popup.js","webpack:///webpack/bootstrap 05a97357da1f66547210","webpack:///./assets/js/src/config/_settings.ts","webpack:///./assets/js/src/marketing-popup.ts","webpack:///./assets/js/src/components/_marketing-popup.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","0","__webpack_exports__","Settings","varName","defaults","this","settings","localizedOpts","window","assign","prop","getAll","delete","65","value","__WEBPACK_IMPORTED_MODULE_0__components_marketing_popup__","__WEBPACK_IMPORTED_MODULE_1__config_settings__","jQuery","$","66","MarketingPopup","swal","getPopupInfo","_this","ajax","url","dataType","method","data","action","token","success","response","popupSettings","console","log","descriptionColor","description","text_color","descriptionFontSize","text_size","descriptionAlign","text_align","descriptionPadding","padding","transient_key","text","versionColor","versionBackground","version","titleColor","title","titleFontSize","titleAlign","buttons_1","imageTopLeft","images","top_left","logo","footerNoticeStyle","footerNotice","bg_color","keys","length","background","buttons","forEach","button","class","css","width","customClass","showCloseButton","showConfirmButton","html","imageUrl","catch","noop","on","evt","preventDefault","open","currentTarget","hideMarketingPopup","transientKey"],"mappings":"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","file":"atum-marketing-popup.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 65);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar Settings = (function () {\n    function Settings(varName, defaults) {\n        if (defaults === void 0) { defaults = {}; }\n        this.varName = varName;\n        this.defaults = defaults;\n        this.settings = {};\n        var localizedOpts = typeof window[varName] !== 'undefined' ? window[varName] : {};\n        Object.assign(this.settings, defaults, localizedOpts);\n    }\n    Settings.prototype.get = function (prop) {\n        if (typeof this.settings[prop] !== 'undefined') {\n            return this.settings[prop];\n        }\n        return undefined;\n    };\n    Settings.prototype.getAll = function () {\n        return this.settings;\n    };\n    Settings.prototype.delete = function (prop) {\n        if (this.settings.hasOwnProperty(prop)) {\n            delete this.settings[prop];\n        }\n    };\n    return Settings;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (Settings);\n\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_marketing_popup__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config_settings__ = __webpack_require__(0);\nwindow['$'] = window['jQuery'];\n\n\njQuery(function ($) {\n    var settings = new __WEBPACK_IMPORTED_MODULE_1__config_settings__[\"a\" /* default */]('atumMarketingPopupVars');\n    new __WEBPACK_IMPORTED_MODULE_0__components_marketing_popup__[\"a\" /* default */](settings);\n});\n\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar MarketingPopup = (function () {\n    function MarketingPopup(settings) {\n        this.settings = settings;\n        this.swal = window['swal'];\n        this.getPopupInfo();\n    }\n    MarketingPopup.prototype.getPopupInfo = function () {\n        var _this = this;\n        $.ajax({\n            url: window['ajaxurl'],\n            dataType: 'json',\n            method: 'post',\n            data: {\n                action: 'atum_get_marketing_popup_info',\n                token: this.settings.get('nonce'),\n            },\n            success: function (response) {\n                if (response.success === true) {\n                    var popupSettings = response.data;\n                    console.log(popupSettings);\n                    var descriptionColor = popupSettings.description.text_color ? \"color:\" + popupSettings.description.text_color + \";\" : '', descriptionFontSize = popupSettings.description.text_size ? \"font-size:\" + popupSettings.description.text_size + \";\" : '', descriptionAlign = popupSettings.description.text_align ? \"text-align:\" + popupSettings.description.text_align + \";\" : '', descriptionPadding = popupSettings.description.padding ? \"padding:\" + popupSettings.description.padding + \";\" : '', description = \"<p data-transient-key=\\\"\" + popupSettings.transient_key + \"\\\" style=\\\"\" + (descriptionColor + descriptionFontSize + descriptionAlign + descriptionPadding) + \"\\\">\" + popupSettings.description.text + \"</p>\", versionColor = '', versionBackground = '', version = '', titleColor = popupSettings.title.text_color ? \"color:\" + popupSettings.title.text_color + \";\" : '', titleFontSize = popupSettings.title.text_size ? \"font-size:\" + popupSettings.title.text_size + \";\" : '', titleAlign = popupSettings.title.text_align ? \"text-align:\" + popupSettings.title.text_align + \";\" : '', title = void 0, buttons_1 = '', imageTopLeft = popupSettings.images.top_left, logo = \"<img class=\\\"mp-logo\\\" src=\\\"\" + popupSettings.images.logo + \"\\\">\", footerNoticeStyle = popupSettings.footerNotice.bg_color ? \" style=\\\"background-color:\" + popupSettings.footerNotice.bg_color + \";\\\"\" : '', footerNotice = popupSettings.footerNotice.text ? \"<div class=\\\"footer-notice\\\"\" + footerNoticeStyle + \">\" + popupSettings.footerNotice.text + \"</div>\" : '';\n                    if (popupSettings.version && Object.keys(popupSettings.version).length) {\n                        versionColor = popupSettings.version.text_color ? \"color:\" + popupSettings.version.text_color + \";\" : '';\n                        versionBackground = popupSettings.version.background ? \"background:\" + popupSettings.version.background + \";\" : '';\n                        version = \"<span class=\\\"version\\\" style=\\\"\" + (versionBackground + versionColor) + \"\\\">\" + popupSettings.version.text + \"</span>\";\n                    }\n                    title = \"<h1 style=\\\"\" + (titleColor + titleFontSize + titleAlign) + \"\\\"><span>\" + (popupSettings.title.text + version) + \"</span></h1>\";\n                    if (popupSettings.buttons && popupSettings.buttons.length) {\n                        popupSettings.buttons.forEach(function (button) {\n                            buttons_1 += \"<button data-url=\\\"\" + button.url + \"\\\" class=\\\"\" + button.class + \" popup-button\\\" style=\\\"\" + button.css + \"\\\">\" + button.text + \"</button>\";\n                        });\n                    }\n                    _this.swal({\n                        width: 520,\n                        padding: null,\n                        customClass: 'marketing-popup',\n                        background: popupSettings.background,\n                        showCloseButton: true,\n                        showConfirmButton: false,\n                        html: logo + title + description + buttons_1 + footerNotice,\n                        imageUrl: imageTopLeft,\n                    }).catch(_this.swal.noop);\n                    $('.popup-button').on('click', function (evt) {\n                        evt.preventDefault();\n                        window.open($(evt.currentTarget).data('url'), '_blank');\n                    });\n                    $('.marketing-popup .swal2-close').on('click', function () {\n                        _this.hideMarketingPopup($('.swal2-content p').data('transient-key'));\n                    });\n                }\n            },\n        });\n    };\n    MarketingPopup.prototype.hideMarketingPopup = function (transientKey) {\n        $.ajax({\n            url: window['ajaxurl'],\n            dataType: 'json',\n            method: 'post',\n            data: {\n                action: 'atum_hide_marketing_popup',\n                token: this.settings.get('nonce'),\n                transientKey: transientKey,\n            },\n        });\n    };\n    return MarketingPopup;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (MarketingPopup);\n\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// atum-marketing-popup.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 65);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 05a97357da1f66547210","/* ====================\n   SETTINGS\n   ==================== */\n\n\nexport default class Settings {\n\t\n\tsettings: any = {};\n\t\n\tconstructor(\n\t\tprivate varName: string,\n\t\tprivate defaults: any = {}\n\t) {\n\t\t\n\t\tconst localizedOpts: any = typeof window[varName] !== 'undefined' ? window[varName] : {};\n\t\n\t\t// Merge all the settings.\n\t\tObject.assign( this.settings, defaults, localizedOpts );\n\t\t\n\t}\n\t\n\tget(prop: string) {\n\t\t\n\t\tif (typeof this.settings[prop] !== 'undefined') {\n\t\t\treturn this.settings[prop];\n\t\t}\n\t\t\n\t\treturn undefined;\n\t\t\n\t}\n\t\n\tgetAll() {\n\t\treturn this.settings;\n\t}\n\t\n\tdelete(prop: string) {\n\t\t\n\t\tif (this.settings.hasOwnProperty(prop)) {\n\t\t\tdelete this.settings[prop];\n\t\t}\n\t\t\n\t}\n\t\n}\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/config/_settings.ts","/**\n * Atum Marketing Popup\n *\n * @copyright Stock Management Labs ©2019\n *\n * @since 1.5.2\n */\n\nwindow['$'] = window['jQuery'];\n\n/**\n * Components\n */\n\nimport MarketingPopup from './components/_marketing-popup';\nimport Settings from './config/_settings';\n\n\n// Modules that need to execute when the DOM is ready should go here.\njQuery( ($) => {\n\t\n\t// Get the options from the localized var.\n\tlet settings = new Settings('atumMarketingPopupVars');\n\tnew MarketingPopup(settings);\n\t\n});\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/marketing-popup.ts","/* =======================================\n   MARKETING POPUP\n   ======================================= */\n\nimport Settings from '../config/_settings';\n\n// Interfaces.\ninterface MPopupText {\n\ttext: string;\n\ttext_color: string;\n\ttext_size: string;\n\ttext_align: string;\n\tdash_text_align?: string;\n\tpadding?: string;\n}\n\ninterface MPopupLabel {\n\ttext: string;\n\ttext_color: string;\n\tbackground: string;\n}\n\ninterface MPopupButton {\n\ttext: string;\n\turl: string;\n\tclass: string;\n\tcss: string;\n}\n\ninterface MPopupFooterNotice {\n\ttext: string;\n\tbg_color: string;\n}\n\ninterface MPopupSettings {\n\tbackground: string;\n\ttitle: MPopupText;\n\tdescription: MPopupText;\n\tversion?: MPopupLabel;\n\tbuttons?: MPopupButton[];\n\timages: any;\n\tfooterNotice?: MPopupFooterNotice;\n\ttransient_key: string;\n}\n\n\nexport default class MarketingPopup {\n\t\n\tswal: any = window['swal'];\n\t\n\tconstructor(\n\t\tprivate settings: Settings\n\t) {\n\t\n\t\tthis.getPopupInfo();\n\t\t\n\t}\n\t\n\tgetPopupInfo() {\n\t\t\n\t\t$.ajax({\n\t\t\turl       : window['ajaxurl'],\n\t\t\tdataType  : 'json',\n\t\t\tmethod    : 'post',\n\t\t\tdata      : {\n\t\t\t\taction    : 'atum_get_marketing_popup_info',\n\t\t\t\ttoken     : this.settings.get('nonce'),\n\t\t\t},\n\t\t\tsuccess   : (response: any) => {\n\t\t\t\t\n\t\t\t\tif (response.success === true) {\n\t\t\t\t\t\n\t\t\t\t\tconst popupSettings: MPopupSettings = response.data;\n\t\t\t\t\tconsole.log(popupSettings);\n\t\t\t\t\t\n\t\t\t\t\tlet descriptionColor: string    = popupSettings.description.text_color ? `color:${ popupSettings.description.text_color };` : '',\n\t\t\t\t\t    descriptionFontSize: string = popupSettings.description.text_size ? `font-size:${ popupSettings.description.text_size };` : '',\n\t\t\t\t\t    descriptionAlign: string    = popupSettings.description.text_align ? `text-align:${ popupSettings.description.text_align };` : '',\n\t\t\t\t\t    descriptionPadding: string  = popupSettings.description.padding ? `padding:${ popupSettings.description.padding };` : '',\n\t\t\t\t\t    description: string         = `<p data-transient-key=\"${ popupSettings.transient_key }\" style=\"${ descriptionColor + descriptionFontSize + descriptionAlign + descriptionPadding }\">${ popupSettings.description.text }</p>`,\n\t\t\t\t\t    versionColor: string        = '',\n\t\t\t\t\t    versionBackground: string   = '',\n\t\t\t\t\t    version: string             = '',\n\t\t\t\t\t    titleColor: string          = popupSettings.title.text_color ? `color:${ popupSettings.title.text_color };` : '',\n\t\t\t\t\t    titleFontSize: string       = popupSettings.title.text_size ? `font-size:${ popupSettings.title.text_size };` : '',\n\t\t\t\t\t    titleAlign: string          = popupSettings.title.text_align ? `text-align:${ popupSettings.title.text_align };` : '',\n\t\t\t\t\t    title: string,\n\t\t\t\t\t    buttons: string             = '',\n\t\t\t\t\t    imageTopLeft: string        = popupSettings.images.top_left,\n\t\t\t\t\t    logo: string                = `<img class=\"mp-logo\" src=\"${ popupSettings.images.logo }\">`,\n\t\t\t\t\t    footerNoticeStyle: string   = popupSettings.footerNotice.bg_color ? ` style=\"background-color:${ popupSettings.footerNotice.bg_color };\"` : '',\n\t\t\t\t\t\tfooterNotice: string        = popupSettings.footerNotice.text ? `<div class=\"footer-notice\"${ footerNoticeStyle }>${ popupSettings.footerNotice.text }</div>` : '';\n\t\t\t\t\t\n\t\t\t\t\tif (popupSettings.version && Object.keys(popupSettings.version).length) {\n\t\t\t\t\t\tversionColor        = popupSettings.version.text_color ? `color:${ popupSettings.version.text_color };` : '';\n\t\t\t\t\t\tversionBackground   = popupSettings.version.background ? `background:${ popupSettings.version.background };` : '';\n\t\t\t\t\t\tversion             = `<span class=\"version\" style=\"${ versionBackground + versionColor }\">${ popupSettings.version.text }</span>`;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\ttitle = `<h1 style=\"${ titleColor + titleFontSize + titleAlign }\"><span>${ popupSettings.title.text + version }</span></h1>`\n\t\t\t\t\t\n\t\t\t\t\t// Add buttons.\n\t\t\t\t\tif (popupSettings.buttons && popupSettings.buttons.length) {\n\t\t\t\t\t\tpopupSettings.buttons.forEach( (button: MPopupButton) => {\n\t\t\t\t\t\t\tbuttons += `<button data-url=\"${ button.url }\" class=\"${ button.class } popup-button\" style=\"${ button.css }\">${ button.text }</button>`\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.swal({\n\t\t\t\t\t\twidth             : 520,\n\t\t\t\t\t\tpadding           : null,\n\t\t\t\t\t\tcustomClass       : 'marketing-popup',\n\t\t\t\t\t\tbackground        : popupSettings.background,\n\t\t\t\t\t\tshowCloseButton   : true,\n\t\t\t\t\t\tshowConfirmButton : false,\n\t\t\t\t\t\thtml              : logo + title + description + buttons + footerNotice,\n\t\t\t\t\t\timageUrl          : imageTopLeft,\n\t\t\t\t\t}).catch(this.swal.noop);\n\t\t\t\t\t\n\t\t\t\t\t// Redirect to button url\n\t\t\t\t\t$('.popup-button').on('click', (evt: JQueryEventObject) => {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\twindow.open( $(evt.currentTarget).data('url'), '_blank' );\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// Hide popup when click un close button for this user\n\t\t\t\t\t$('.marketing-popup .swal2-close').on('click',() => {\n\t\t\t\t\t\tthis.hideMarketingPopup( $('.swal2-content p').data('transient-key') );\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t\t\n\t}\n\t\n\thideMarketingPopup(transientKey: string) {\n\t\t\n\t\t$.ajax({\n\t\t\turl       : window['ajaxurl'],\n\t\t\tdataType  : 'json',\n\t\t\tmethod    : 'post',\n\t\t\tdata      : {\n\t\t\t\taction       : 'atum_hide_marketing_popup',\n\t\t\t\ttoken        : this.settings.get('nonce'),\n\t\t\t\ttransientKey : transientKey,\n\t\t\t},\n\t\t});\n\t\t\n\t}\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/components/_marketing-popup.ts"],"sourceRoot":""}